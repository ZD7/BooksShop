{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;ACAO;AACP;AACA;AACA;AACA;AACA,+BAA+B,mBAAO,CAAC,2EAAmC,GAAG,YAAY,2EAA2E,mBAAO,CAAC,2EAAmC,EAAE;AACjN;AACA;AACA,qDAAqD,8DAA8D;AACnH,6CAA6C,uBAAuB;AACpE;AACA,gEAAgE,qFAAqF;AACrJ,iDAAiD,qFAAqF;AACtI;AACA,yDAAyD,sEAAsE;AAC/H,sBAAsB,qDAAqD,eAAe;AAC1F,4DAA4D,iEAAiE,kBAAkB,uBAAuB,IAAI,0EAA0E;AACpP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uKAAuK,oCAAoC;AAC3M,yKAAyK,oCAAoC;AAC7M,yKAAyK,oCAAoC;AAC7M,yKAAyK,oCAAoC;AAC7M,yKAAyK,qCAAqC;AAC9M;AACA;;;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACO;AACP;AACA,sCAAsC,aAAa;AACnD;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC/BA;AACA;AACA,aAAa,mBAAO,CAAC,mDAAuB;AAC5C,KAAK;AACL;AACA,aAAa,mBAAO,CAAC,mDAAuB;AAC5C,KAAK;AACL;AACA,aAAa,mBAAO,CAAC,mDAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO,EAAE,4BAA4B,gCAAgC,kBAAkB,EAAE,gBAAgB,MAAM;AAChK;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,wDAAwD,OAAO,EAAE,4BAA4B,gBAAgB,MAAM;AACnH;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;ACnFD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI,IAAI,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UC7BxB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;;;;;;;;;;;;;;;;AClBkC;AACd;AACiB;AACgB;AACzB;AACY;AACA;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAS;AACT;AACA;AACA,oBAAoB,yDAAe;AACnC,CAAC;AACD;AACA;AACA;AACA;AACA,oEAAoE,QAAQ,6EAA6E,WAAW;AACpK;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB,4CAAS;AAChC;AACA,0CAA0C,oDAAU;AACpD;AACA;AACA;AACA,2EAA2E,kDAAQ,gBAAgB;AACnG;AACA,cAAc;AACd;AACA,2EAA2E,kDAAQ,gBAAgB;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD","sources":["webpack:///./styles/styles.css?6c99","webpack:///./styles/stylesSlider.css?e245","webpack:///./js/book.js","webpack:///./js/cart.js","webpack:///./js/slider.js","webpack:///./utils/utils.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/publicPath","webpack:///./index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","export function toCardBook(items, booksFromCart) {\r\n    let childComment = \"\"\r\n    childComment += `\r\n            <div class=\"book\">\r\n                <div class=\"wrapper\">\r\n                    <img src=${require(\"../images/dummy-image-212x300.gif\")} data-src=\"${'imageLinks' in items.volumeInfo ? items.volumeInfo.imageLinks.thumbnail : require(\"../images/dummy-image-212x300.gif\")}\" class=\"poster lazyLoad\" alt=\"poster\">\r\n                </div>\r\n                <div class=\"infoBook\">\r\n                    <div class=\"open-sans authors\">${\"authors\" in items.volumeInfo ? items.volumeInfo.authors : \"\"}</div>\r\n                    <div class=\"name-book\">${items.volumeInfo.title}</div>\r\n                    <div class=\"info-rating\">\r\n                        <div class=\"open-sans average-rating\">${'averageRating' in items.volumeInfo ? ratingSVG(items.volumeInfo.averageRating) : \"\"}</div>\r\n                        <div class=\"open-sans\">${'ratingsCount' in items.volumeInfo ? items.volumeInfo.ratingsCount + \"M review\" : \"\"}</div>\r\n                    </div>\r\n                    <div class=\"description open-sans\">${'description' in items.volumeInfo ? items.volumeInfo.description : \"\"}</div>\r\n                    ${'retailPrice' in items ? `<div class=\"retailPrice\">${items.saleInfo}</div>` : \"\"}\r\n                    <button class=\"addToCart style-button ${booksFromCart.includes(items.volumeInfo.title) ? \"isInCart\" : \"\"}\" data-title = \"${items.volumeInfo.title}\">${booksFromCart.includes(items.volumeInfo.title) ? \"IN THE CART\": \"BUY NOW\"}</button>\r\n                </div>\r\n            </div>\r\n        `\r\n    return childComment\r\n}\r\n\r\n\r\nconst ratingSVG = (rating) => {\r\n    return `\r\n    <svg width=\"64\" height=\"14\" viewBox=\"0 0 64 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M6 1L7.80568 4.5147L11.7063 5.1459L8.92165 7.9493L9.52671 11.8541L6 10.072L2.47329 11.8541L3.07835 7.9493L0.293661 5.1459L4.19432 4.5147L6 1Z\" fill=${rating >= 1 ? \"#F2C94C\" : \"#EEEDF5\"}></path>\r\n        <path d=\"M19 1L20.8057 4.5147L24.7063 5.1459L21.9216 7.9493L22.5267 11.8541L19 10.072L15.4733 11.8541L16.0784 7.9493L13.2937 5.1459L17.1943 4.5147L19 1Z\" fill=${rating >= 2 ? \"#F2C94C\" : \"#EEEDF5\"}></path>\r\n        <path d=\"M32 1L33.8057 4.5147L37.7063 5.1459L34.9216 7.9493L35.5267 11.8541L32 10.072L28.4733 11.8541L29.0784 7.9493L26.2937 5.1459L30.1943 4.5147L32 1Z\" fill=${rating >= 3 ? \"#F2C94C\" : \"#EEEDF5\"}></path>\r\n        <path d=\"M45 1L46.8057 4.5147L50.7063 5.1459L47.9216 7.9493L48.5267 11.8541L45 10.072L41.4733 11.8541L42.0784 7.9493L39.2937 5.1459L43.1943 4.5147L45 1Z\" fill=${rating >= 4 ? \"#F2C94C\" : \"#EEEDF5\"}></path>\r\n        <path d=\"M58 1L59.8057 4.5147L63.7063 5.1459L60.9216 7.9493L61.5267 11.8541L58 10.072L54.4733 11.8541L55.0784 7.9493L52.2937 5.1459L56.1943 4.5147L58 1Z\" fill=${rating === 5 ? \"#F2C94C\" : \"#EEEDF5\"}></path>\r\n    </svg>`\r\n}","\r\nconst divNumberOfBooks = document.querySelector(\".emptyCart\")\r\n\r\nexport function checkCart(books) {\r\n    if (books.length > 0) {\r\n      divNumberOfBooks.innerText = `${books.length}`\r\n      divNumberOfBooks.classList.add(\"numberOfBooks\")\r\n    } else {\r\n      divNumberOfBooks.innerText = \"\"\r\n      divNumberOfBooks.classList.remove(\"numberOfBooks\")\r\n    }\r\n}\r\n\r\nexport const isBookInTheCart = (e, booksFromCart) => {\r\n    if (e.target.classList.contains(\"addToCart\")) {\r\n      e.target.innerText === \"BUY NOW\" ? (e.target.innerText = \"IN THE CART\") : (e.target.innerText = \"BUY NOW\")\r\n      e.target.classList.toggle(\"isInCart\")\r\n      let nameBook = e.target.dataset.title\r\n      booksFromCart = JSON.parse(localStorage.getItem(\"books\") || \"[]\")\r\n  \r\n      if (booksFromCart.includes(nameBook)) {\r\n        booksFromCart = booksFromCart.filter((book) => book !== nameBook)\r\n      } else {\r\n        booksFromCart.push(nameBook)\r\n      }\r\n  \r\n      checkCart(booksFromCart)\r\n      localStorage.setItem(\"books\", JSON.stringify(booksFromCart))\r\n\r\n      return booksFromCart\r\n    }\r\n}","let images = [\r\n    {\r\n        url: require(\"../images/banner1.jpg\")\r\n    }, \r\n    {\r\n        url: require(\"../images/banner2.jpg\")\r\n    }, \r\n    {\r\n        url: require(\"../images/banner3.jpg\")\r\n    }\r\n];\r\n\r\n\r\nfunction initslider(options) {\r\n    if (!images || !images.length) return;\r\n\r\n    options = options || {\r\n        dots: true,\r\n        titles: false\r\n    };\r\n\r\n    let sliderImages = document.querySelector(\".slider__images\");\r\n    let sliderDots = document.querySelector(\".slider__dots\");\r\n\r\n    initImages();\r\n\r\n    if (options.dots) {\r\n        initDots();\r\n    }\r\n\r\n    if (options.autoplay) {\r\n        initAutoplay();\r\n    }\r\n\r\n    function initImages() {\r\n        images.forEach((image, index) => {\r\n            let imageDiv = `<div class=\"image n${index} ${index === 0 ? \"active\" : \"\"}\" style=\"background-image:url(${images[index].url});\" data-index=\"${index}\"></div>`;\r\n            sliderImages.innerHTML += imageDiv;\r\n        });\r\n    }\r\n\r\n    function initDots() {\r\n        images.forEach((image, index) => {\r\n            let dot = `<div class=\"slider__dots-item n${index} ${index === 0 ? \"active\" : \"\"}\" data-index=\"${index}\"></div>`;\r\n            sliderDots.innerHTML += dot;\r\n        });\r\n        sliderDots.querySelectorAll(\".slider__dots-item\").forEach(dot => {\r\n            dot.addEventListener(\"click\", function () {\r\n                moveSlider(this.dataset.index);\r\n                sliderDots.querySelector(\".active\").classList.remove(\"active\");\r\n                this.classList.add(\"active\");\r\n            })\r\n        })\r\n    }\r\n\r\n    function moveSlider(num) {\r\n        sliderImages.querySelector(\".active\").classList.remove(\"active\");\r\n        sliderImages.querySelector(\".n\" + num).classList.add(\"active\");\r\n\r\n        if (options.dots) {\r\n            sliderDots.querySelector(\".active\").classList.remove(\"active\");\r\n            sliderDots.querySelector(\".n\" + num).classList.add(\"active\");\r\n        }\r\n    }\r\n\r\n    function initAutoplay() {\r\n        setInterval(() => {\r\n          let curNumber = +sliderImages.querySelector(\".active\").dataset.index;\r\n          let nextNumber = curNumber === images.length - 1? 0 : curNumber + 1;\r\n          moveSlider(nextNumber);\r\n        }, options.autoplayInterval);\r\n    }\r\n}\r\n\r\nlet sliderOptoins = {\r\n    dots: true,\r\n    titles: true,\r\n    autoplay: true,\r\n    autoplayInterval: 5000\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    initslider(sliderOptoins);\r\n})","\r\nconst callback = (entries, observer) => {\r\n    entries.forEach(function (entry) {\r\n      if (entry.isIntersecting) {\r\n        entry.target.style.background = \"#d1d5db\"\r\n        entry.target.src = entry.target.dataset.src\r\n        entry.target.classList.remove(\"lazyLoad\")\r\n        observer.unobserve(entry.target)\r\n      }\r\n    })\r\n}\r\n\r\nconst options = {\r\n    // root: document.querySelector(\"#list\"),\r\n    threshold: 0.5,\r\n  }\r\n  \r\nexport const observer = new IntersectionObserver(callback, options)\r\n\r\n\r\n// const observer = new IntersectionObserver((entries, observer) => {\r\n//     entries.forEach(entry => {\r\n//         if (entry.isIntersecting) {\r\n//             console.log(entry)\r\n//             // ссылка на оригинальное изображение хранится в атрибуте \"data-src\"\r\n//             entry.target.src = entry.target.dataset.src\r\n//             observer.unobserve(entry.target)\r\n//         }\r\n//     })\r\n// }, { threshold: 0.5 })","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import \"./styles/stylesSlider.css\"\r\nimport \"./js/slider\"\r\nimport { toCardBook} from \"./js/book\"\r\nimport { checkCart, isBookInTheCart} from \"./js/cart\"\r\nimport \"./styles/styles.css\"\r\nimport { observer } from \"./utils/utils\"\r\nimport dataBooks from \"./data/data.json\"\r\n\r\nconst list = document.getElementById(\"list\")\r\nconst categories = document.querySelector(\".categories-block\")\r\nconst moreData = document.querySelector(\".getMoreData\")\r\n\r\nlet startIndex = 0\r\nlet subject = \"Architecture\"\r\n\r\ngetDataBooks()\r\ndocument.querySelector(\".category-books\").closest(\".category-books-item\").classList.add(\"active-group\")\r\nlet booksFromCart = JSON.parse(localStorage.getItem(\"books\") || \"[]\")\r\ncheckCart(booksFromCart)\r\n\r\nlist.addEventListener(\"click\", (e) => {\r\n    booksFromCart = isBookInTheCart(e, booksFromCart)\r\n})\r\n\r\nfunction getDataBooks(isloadMoreBook=true) {\r\n    let html\r\n    fetch(\r\n        `https://www.googleapis.com/books/v1/volumes?q=%22subject:${subject}%22&key=AIzaSyDNn9A9WE5oZMUbFqNeeqFdu8l_PnfA-l8&printType=books&startIndex=${startIndex}&maxResults=6&langRestrict=en`\r\n        )\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((data) => {\r\n            if ('error' in data) {\r\n                data = dataBooks\r\n            }\r\n            html = data.items.map((item)=>toCardBook(item, booksFromCart)).join(\" \")\r\n\r\n            if (isloadMoreBook) {\r\n                list.innerHTML = html\r\n                document.querySelectorAll(\".lazyLoad\").forEach((image) => {observer.observe(image)})\r\n                moreData.classList.remove(\"getMoreData\")\r\n            } else {\r\n                list.insertAdjacentHTML(\"beforeend\", html)\r\n                document.querySelectorAll(\".lazyLoad\").forEach((image) => {observer.observe(image)})\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\ncategories.addEventListener(\"click\", (event) => {\r\n  if (event.target.classList.contains(\"category-books\")) {\r\n    document.querySelector(\".active-group\").classList.remove(\"active-group\")\r\n\r\n    event.target.closest(\".category-books-item\").classList.add(\"active-group\")\r\n    subject = event.target.innerText\r\n    startIndex = 0\r\n    getDataBooks()\r\n  }\r\n})\r\n\r\nmoreData.addEventListener(\"click\", () => {\r\n  startIndex += 6\r\n  getDataBooks(false)\r\n})\r\n\r\n"],"names":[],"sourceRoot":""}